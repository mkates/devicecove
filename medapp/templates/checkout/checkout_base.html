{% extends 'base.html' %}
{% block headertitle %}<title>VetCove | Checkout</title>{% endblock%}

{% block headercss %}
<link href="{{STATIC_URL}}css/item/item.css" rel="stylesheet" type="text/css" />
<style>
.listcontainer {
	max-width: 1000px;
	margin: 10px auto 50px auto;
	padding-top: 20px;
}

.listbox {
	padding: 0px;
}
.listbox .listbar {
	border-bottom:1px solid #ddd;
	padding: 5px 10px;
	background-image: linear-gradient(to bottom, #FBFBFB 0%, #E1E1E1 100%);
}
.listbox .liststep {
	text-align: center;
	padding: 0px;
}
.listbox .liststep a {
	border:1px solid #ddd;
	background: white;
	display: block;
	padding: 5px;
	margin: 5px;
	border-radius: 4px;
	opacity: .5;
	color: #444;
	box-shadow: inset 0 0 1px #666;
	font-weight: 200;
	font-size: 13px;
}
.listbox .liststep .active {
	opacity: 1;
	color: white;
	background: #6B9C00;
	background-image: -ms-linear-gradient(top, #8FC800 0%, #6B9C00 100%);
	background-image: -moz-linear-gradient(top, #8FC800 0%, #6B9C00 100%);
	background-image: -o-linear-gradient(top, #8FC800 0%, #6B9C00 100%);
	background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #8FC800), color-stop(1, #6B9C00));
	background-image: -webkit-linear-gradient(top, #8FC800 0%, #6B9C00 100%);
	background-image: linear-gradient(to bottom, #8FC800 0%, #6B9C00 100%);
}
.listbox .liststep span {
	margin-right: 5px;
	font-size: 15px;
	background: #eee;
	color: #00B318;
}
.listbox .listnav {
	margin: 30px 35px;
}
.listbox .listnav a {
	font-size: 13px;
	float: right;
}
.listbox .listnav a:hover {
	cursor: pointer;
}
.listbox .listnav .backbutton {
	float: left;
}
.listbox .listnav .saveandcontinue {
	margin-left: 10px;
}
.formcontent {
	text-align: left;
	padding: 0 20px;
}

.listcontainer .topnav {
	text-align: left;
}
.listcontainer .topnav .continuebutton {
	float: right;
}

.formerror {
	border:1px solid red;
	box-shadow: 0 0 2px red;
}

/* Information blocks */
.information-block {
	margin-bottom: 50px;
}
.information-block h5 {
	font-size: 16px;
}
.information-block p {
	line-height: 15px;
	font-weight: 200;
	font-size: 13px;
	color: #444;
	margin: 8px 0;
}
.information-select {	
	display:block;
	width: 182px;
	margin-top: 15px;
}
.editinformation, .deleteinformation {
	margin-top: 8px;
	width: 85px;
	margin-right: 8px;
}
.informationform button {
	margin-top: 10px;
}
@media (max-width: 768px) {
	.information-block {
		text-align: center;
	}
	.information-select {
		margin: 0 auto;
	}
	.logincol h4 {
		text-align: center;
	}
}
 

</style>
{% block customcss %}{% endblock %}
{% endblock %}

{% block jsblock %}
<script src="{{STATIC_URL}}js/ajaxform.js" type="text/javascript" ></script>
<script>

var nextstep = "{% block nextpage %}{% endblock%}";
var complete = false;
$(document).ready(function() {
	$('.saveandcontinue').click(function() {
		$("#submitcode").val(600);
		{% if logistics %}
		$("#inputpriceval").val(parseInt($("#inputprice").asNumber()));
		{% endif %}
		$("#listform").submit();
	});
	$('.saveandstay').click(function() {
		$("#submitcode").val(700);
		{% if logistics %}
		$("#inputpriceval").val(parseInt($("#inputprice").asNumber()));
		{% endif %}
		$("#listform").submit();
	});
	$('#listform').ajaxForm(function(e) {
		//Codes 700: saved, stay on page
		//Codes 600: saved, move to next page
		//Codes 500: Error saving product
		if (e == 700) {
			$(".saved").fadeIn('fast');
			setTimeout(function() {
				  $(".saved").fadeOut('slow');
			}, 2000);
		} else if (e == 600) {
			if (validateInputs()) {
				window.location.href = nextstep;
			} else {
				$("#errorbar").css('display','block');
			}	
		} else {
			$(".errorsaving").fadeIn('fast');
			setTimeout(function() {
				  $(".errorsaving").fadeOut('slow');
			}, 2000);
		}
		$("input").blur(function() {
			validateInputs();
		});
		$("textarea").blur(function() {
			validateInputs();
		});
		$("select").change(function() {
			validateInputs();
		});
  	}); 
});

var removeError = function removeError(handle) {
	$(handle).removeClass("formerror")
	var header = $(handle).parent().children('h5');
	$(header).removeClass("header_error")
}
var addError = function addError(handle) {
	if (!($(handle).hasClass("formerror"))) {
		$(handle).addClass("formerror");
	}
	var header = $(handle).parent().children('h5');
	if (!($(header).hasClass("header_error"))) {
		$(header).addClass("header_error");
	}	submittable = false;
}
</script>
{% block customjs %}{% endblock %}
{% endblock %}
{% block content %}

<div class="listcontainer">
	
	<p class="topnav"><a class="returnbutton button button-tiny" href="/listeditems">&#8592; Return To Shipping</a><a class="continuebutton button button-tiny" href="/item/{{item.id}}/details">Continue to Payment &#8594;</a></p>

	<div class="covebox listbox">
		<div class="listbar">
			<div class="col-md-3 col-sm-3 col-xs-6 liststep">
				<a class="{% block signinactive %}{% endblock%}"><span class="badge">{% block signin_check%}1{% endblock %}</span>Sign In</a>
			</div>
			<div class="col-md-3 col-sm-3 col-xs-6 liststep">
				<a class="{% block shippingactive %}{% endblock%}"><span class="badge">{% block shipping_check %}2{% endblock %}</span>Shipping</a>
			</div>
			<div class="col-md-3 col-sm-3 col-xs-6 liststep">
				<a class="{% block paymentactive %}{% endblock%}"><span class="badge">{% block payment_check %}3{% endblock %}</span>Payment</a>
			</div>
			<div class="col-md-3 col-sm-3 col-xs-6 liststep">
				<a class="{% block reviewactive %}{% endblock%}"><span class="badge">{% block review_check %}4{% endblock %}</span>Review</a>
			</div>
			<div class="clear"></div>
		</div>

		<div class="listcontent">
		{% block checkoutcontent %}

		{% endblock %}
		</div>
		<!-- 
<div class="listnav">
			{% block hidebackbutton %}<a href="{% block previouspage %}{% endblock %}" class="backbutton button button-rounded">Back to {% block backdescription %}previous page{% endblock%}</a>{% endblock%}
			{% block continuebutton %}<a class="saveandcontinue button button-rounded button-action">Save and Continue</a>{% endblock %}
			<div class="clear"></div>
		</div>
 -->
		
	</div>
</div>

{% endblock %}


