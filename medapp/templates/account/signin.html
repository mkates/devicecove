{% extends 'base/base.html' %}
{% block main_js %}{% endblock %}
{% block css %}

<style>
.clear {
	clear:both;
}
body {
	margin: 0;
	padding: 0;
	background-image: -moz-linear-gradient(left, #E8F4FC 0%, #F5F2FF 50%, #F2FAF0 100%);
	background-attachment: fixed;
}
#signin-container {
	margin: 0 auto 0px auto;
	top: 20%;
	width: 380px;
}

.logodiv {
	text-align: center;
}
.logodiv img {
	max-width: 80px;
	margin-bottom: 10px;
}
.signindiv .form-group {
	margin-bottom: 6px;
	text-align: left;
}
.signindiv .form-group .status {
	display:inline-block;
	width: 30px;
	color: green;
	text-align: center;
}
.signindiv .form-group .status .glyphicon {
	display:none;
}
.signindiv .form-group .status .glyphicon-remove {
	color: red;
}
.signindiv .form-group .error {
	color: red;
	font-weight: normal;
	float:right;
	margin-right: 45px;
}
.signindiv .form-group input {
	width: 280px;
	display:inline-block;
}
.signindiv .form-group input.has-error {
	border:1px solid red;
}
.signindiv .form-group .shortinput {
	width: 140px;
}
.signindiv {
	width: 100%;
	text-align: center;
}
.signindiv h3 {
	margin: 0 0 15px 0;
	padding: 0;
	line-height: 30px;
	font-weight: 200;
	font-size: 16px;
	color: #666;
	text-shadow: 0 0 1px #eee;
}
.signindiv form{
	padding: 10px;
}
.signindiv input {
	text-align: left;
	width: 100%;
}
.signindiv button {
	display:block;
	width: 280px;
	margin-top: 20px;
}

.otherbuttons {
	text-align: right;
	margin-right: 48px;
}
.otherbuttons a {
	display:inline-block;
	margin-bottom: 5px;
	font-weight: 200;
	letter-spacing: .25px;
	border-radius: 4px;
	border:1px solid transparent;
	text-align: right;
	padding: 0px 0px;
	color: #008DB2;
}
.otherbuttons a:hover {
	cursor:pointer;
}
.otherbuttons .glyphicon {
	vertical-align: center;
	font-size: 13px;
}
.otherbuttons a:hover {
	text-decoration: underline;

}
.alert-signin {
	margin: 0 auto;
	width: 280px;
	padding: 5px 5px;
	font-size: 13px;
	font-weight: bold;
}
@media (max-width: 767px) {	
	.login-container {
		position:relative;
		width: 100%;
		height: auto;
		margin: 0;
		left: auto;
		top: auto;
		overflow: auto;

	}
	.logodiv {
		display:block;
		text-align: center;
		width: 100%;
	}
	.logodiv img {
		max-width: 100px;
	}
	.logindiv {
		width: 100%;
	}
	.otherbuttons a {
		font-size: 16px;
	}
}

.enterform {
	margin-left: 40px;
}
.enterform p {
	text-align: left;
	margin: 0;
	font-weight: 200;
	font-size: 12px;
	padding-left: 2px;
	color: #555;
}
</style>
{% endblock %}

{% block body_content %}
<div id="signin-container">
	<div class="logodiv">
		<a href='/'><img src="{{STATIC_URL}}img/logo/paw_logo_symbol.png" alt='VetCove'></a>
	</div>
	<div class="signindiv">
		<div class="login" {% if not login %}style="display:none"{% endif %}>
			<h3>Welcome Back to VetCove</h3>
			{% if login_outcome %}
			<div class="alert-signin alert alert-danger">{{login_outcome}}</div>
			{% endif %}
			<form class="form enterform" id="loginform" action="/loginform" method="POST"> {% csrf_token %}
				<input type="hidden" name="next" value="{{next}}">
				<input type="hidden" name="action" value="{{action}}">
				<div class="form-group">
					<p>Email</p>
					<input class="form-control" type="email" placeholder="Email" name="username">
				</div>
				<div class="form-group">
					<p>Password</p>
					<input class="form-control" type="password" placeholder="Password" name="password">
				</div>
				<div class="form-group">
					<button class="button button-rounded button-primary">Login</button>
				</div>
			</form>
			<div class="otherbuttons">
				<a href="">Forgot Password <span class="glyphicon glyphicon-circle-arrow-right"></span></a>
				<div class="clear"></div>
				<a id="signup-button">Sign Up <span class="glyphicon glyphicon-circle-arrow-right"></span></a>
			</div>
		</div>
		<div class="signup" {% if not signup %}style="display:none"{% endif %}>
			<h3>Sign Up for a New Account</h3>
			{% if signup_outcome %}
			<div class="alert-signin alert alert-danger">{{signup_outcome}}</div>
			{% endif %}
			<form id="signupform" class="form enterform" action='/signupform' method="POST">
				{% csrf_token %}
				<div class="form-group">
					<table>
						<tr>
							<td><p>First Name</p><input name="firstname" id="firstname" class="form-control shortinput" type="text" placeholder="First Name"></td>
							<td><p>Last Name</p><input name="lastname" id="lastname" class="form-control shortinput" type="text" placeholder="Last Name"></td>
						</tr>
					</table>
				</div>
				<div class="form-group">
					<p>Email<span class="error" id="emailtext"></span></p>
					<input name="username" id="email" class="form-control" type="text" placeholder="Email">
					<div class="status"><span class="glyphicon glyphicon-ok"></span><span class="glyphicon glyphicon-remove"></span></div>
				</div>
				<div class="form-group">
					<p>Password<span class="error" id="passwordtext"></span></p>
					<input name="password" id="password"  class="form-control" type="password" placeholder="Password">
					<div class="status"><span class="glyphicon glyphicon-ok"></span><span class="glyphicon glyphicon-remove"></span></div>
				</div>
				<div class="form-group">
					<p>Re-enter Password<span class="error" id="confirmpasswordtext"></span></p>
					<input name="reenterpassword" id="confirmpassword" class="form-control" type="password" placeholder="Re-enter Password">
					<div class="status"><span class="glyphicon glyphicon-ok"></span><span class="glyphicon glyphicon-remove"></span></div>
				</div>
				<div class="form-group">
					<button class="button button-rounded button-primary">Sign up</button>
				</div>
			</form>
			<div class="otherbuttons">
				<div class="clear"></div>
				<a id="login-button">Log In <span class="glyphicon glyphicon-circle-arrow-right"></span></a>
			</div>
		</div>
	</div>
</div>
{% endblock %}

{% block js %}


<!--Javascript-->
<script src="{{STATIC_URL}}js/jquery-1.10.2.min.js" type="text/javascript" ></script>
<script src="{{STATIC_URL}}js/bootstrap.min.js" type="text/javascript" ></script>
<script src="{{STATIC_URL}}js/basic/signup.js" type="text/javascript" ></script>
<script>

$(document).ready(function() {
	centerBox();
	$(window).resize(function() {
		centerBox();
	})
	$("#signup-button").click(200,function() {
		$(".login").fadeOut(function(){
			$(".signup").fadeIn(200);
			centerBox();
		});
	});
	$("#login-button").click(200,function() {
		$(".signup").fadeOut(function(){
			$(".login").fadeIn(200);
			centerBox();
		});
	});
})

function centerBox() {
	login_height = $("#signin-container").height();
	window_height = $(window).height();
	margin_top = Math.max((window_height-login_height)/2,0);
	console.log(window_height);
	$("#signin-container").css("margin-top",margin_top+"px");
}

</script>
{% endblock %}
