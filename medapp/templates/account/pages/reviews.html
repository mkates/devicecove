{% extends 'account/pages/base.html' %}
{% block headertitle %}VetCove Reviews{% endblock %}
{% block account_title %}Your Reviews{% endblock %}
{% block account_css %}
<style>
/* Gift Card Styling */
.giftcard-box {
	margin: 10px 10px 0 10px;
}
.giftcard-container {
	width: 100%;
	padding-bottom: 70%;
	position:relative;
	border:1px solid #ddd;
}
.giftcard {
	height: 100%;
	width: 100%;
	float: left;
	display:block;
	background-image:url("{{STATIC_URL}}img/giftcard/giftcard.png");
	background-size: 100% 100%;
	position:absolute;
	bottom: 0;
}
.giftcard-border {
	position:absolute;
	z-index: 10;
	height: 100%;
	width: 100%;
	background-image:url("{{STATIC_URL}}img/giftcard/giftcard-border.png");
	background-size: 100% 100%;
}
.giftcard-checkbox {
	position:absolute;
	z-index: 20;
	width: 50px;
	height: 50px;
	left: 50%;
	top: 50%;
	margin-left: -25px;
	margin-top: -25px;
	font-size: 50px;
	line-height: 50px;
	text-align: center;
	color: #3ebd44;
	opacity: .8;
	display:none;
}
.giftcard-image {
	width: 100%;
	height: 0%;
	position:absolute;
	background-image:url("{{STATIC_URL}}img/giftcard/giftcard-image.png");
	background-position: center bottom;
	background-size: 100% auto;
	background-repeat: no-repeat;
	bottom: 0;
	overflow: hidden;
}
.giftcard-text {
	text-align: center;
	padding: 20px;
}
.giftcard-text h5 {
	font-size: 13px;
	font-weight: 200;
	margin: 0 0 0px 0;
	letter-spacing: .25px;
}
.giftcard-text p{
	font-size: 12px;
	font-weight: 200;
	margin: 0;
}
.giftcard-text a:hover {
	text-decoration: underline;
}

/* Review Boxes */

.review-box {
	margin-bottom: 40px;
	background: none;
	box-shadow: none;
	border:none;
}
.review-box h3 {
	margin: 0 0 20px 0;
}

.review-item {
	border:1px solid #ddd;
	padding: 20px;
	background: #f6f6f6;
	margin-bottom: 20px;
}
.review-image-container {
	padding: 0px;
}
.review-image {
	width: 100%;
	max-height: 300px;
}
.review-text h4 {
	font-size: 15px;
}
.review-text h4 a:hover {
	text-decoration: underline;
}
.review-text textarea {
	height: 80px;
	min-height: 80px;
	resize:vertical;
	margin-bottom: 10px;
}
.review-text p {
	font-size: 12px;
	font-weight: 200;
}
.review-item .review-name {
	color: #777;
	margin-bottom: 5px;
}
.review-form-container {
	display:none;
}

/* Review History */
.review-history {
	padding: 10px;
	margin-top: 20px;
}
.review-history h3 {
	font-size: 15px;
	margin: 0 0 5px 0;
	font-weight: 200;
}
.review-history-item {
	border-bottom:1px solid #ddd;
	padding: 15px 0;
}
.review-history-item p{
	font-size: 13px;
	margin-bottom:0;
}
.review-history-item .review-history-date {
	color: #777;
	font-size: 12px;
	font-weight: 200;
}
.review-history-item p span {
	float:right;
	font-weight: bold;
	font-size: 14px;
	color: green;
}
.noborderbottom {
	border-bottom: none;
}
/* Raty Formatting */
.raty {
	margin-bottom: 10px;
	display:inline-block;
}
.raty_score {
	display:inline-block;
	font-weight: bold;
}
</style>
{% endblock %}
{% block account_js %}
<script src="{{STATIC_URL}}js/plugins/raty/jquery.raty.js" type="text/javascript" ></script>
<script>
$(document).ready(function(){
	$('.raty').raty({
	    size      : 24,
	    starOff   : 'star-off.png',
	    starOn    : 'star-on.png',
	    starHalf      : 'star-half.png',
	    target : '.raty_1',
	    hints: ['Hate it', "Don't like it", "It's okay", 'Like it', 'Love it'],
	    path: '{{ STATIC_URL }}js/plugins/raty',
	    click: function(score, evt) {
		  }
	});
	$('.review-toggle').click(function() {
		$(this).css('display','none');
		$(this).next().fadeIn();
	})
	//$('#raty').raty('score', 0);
});
$(document).ready(function() {
	var reviews_complete = 0;
	var reviews_needed = 10;
	$(".giftcard").click(function() {
		reviews_complete += 1;
		var card_height = $(".giftcard").css("height");
		var new_height = parseInt(card_height) * reviews_complete/reviews_needed
		new_height = new_height+"px";
		$(".giftcard-image").animate({height:new_height},800,function() {
			$("#reviews-left").text(reviews_needed-reviews_complete);
			if (reviews_complete == reviews_needed) {
				$(".giftcard-checkbox").fadeIn('slow');
				$(".giftcard-text h5").html("<strong>Congratulations!</strong> We have credited your account with the VetCove Review Bonus")
			}
		})
	})
});
</script>
{% endblock %}
{% block account_content %}
<div class="row">
	<div class="col-md-3 col-md-push-9">
		<div class="sidebox">
			<div class="giftcard-box">
				<div class="giftcard-container">
					<div class="giftcard">
						<div class="giftcard-checkbox"><span class="glyphicon glyphicon-ok"></span></div>
						<div class="giftcard-border"></div>
						<div class="giftcard-image"></div>
					</div>
				</div>
			</div>
			<div class="giftcard-text">
				<h5>You need <strong id="reviews-left">20</strong> more review upvotes to receive your next VetCove bonus</h5>
			</div>
		</div>
		<div class="review-history sidebox">
			<h3>Review Bonuses Earned</h3>
			<div class="review-history-item">
				<p>25 Upvotes<span>$20</span></p>
				<p class="review-history-date">Earned on September 4th, 2014</p>
			</div>
			<div class="review-history-item">
				<p>25 Upvotes<span>$35</span></p>
				<p class="review-history-date">Earned on September 4th, 2014</p>
			</div>
			<div class="review-history-item">
				<p>25 Upvotes<span>$15</span></p>
				<p class="review-history-date">Earned on September 4th, 2014</p>
			</div>
			<div class="review-history-item noborderbottom">
				<p>25 Upvotes<span>$40</span></p>
				<p class="review-history-date">Earned on September 4th, 2014</p>
			</div>
		</div>
	</div>
	<div class="col-md-9 col-md-pull-3 maincol">
		<div class="account-tabs">
			<div class="account-tabs-navigation row">
				<div class="col-md-4">
					<div class="active account-tab" data-href='#account-tab-newreview'>
						Review Products
					</div>
				</div>
				<div class="col-md-4">
					<div class="account-tab" data-href='#account-tab-myreviews'>
						My Reviews
					</div>
				</div>
				<div class="col-md-4">
					<div class="account-tab" data-href='#account-tab-bonusprogram'>
						Review Bonus Program
					</div>
				</div>
			</div>
			<div class="account-tab-content">
				<div class="account-tab-div first" id="account-tab-newreview">
					<h3>Review Your Recently Purchased Items</h3>
					<div class="review-item row">
						<div class="review-image-container col-md-3">
							<img class="review-image" src='{{STATIC_URL}}img/large_background/dog_walk.jpg'>
						</div>
						<div class="col-md-9">
							<div class="review-text">
								<h4><a href='#'>Salix Powder Formula with Extra Nutrition and Products <span>from Zoetis</span></a></h4>
								<p>Last purchased on Sept 14, 2014</p>
								<button class="review-toggle button button-rounded button-primary button-tiny">Review this Product</button>
								<div class="review-form-container">
									<div class="rating">
										<div class="raty"></div>
										<div class="raty_score raty_1"></div>
									</div>
									<textarea class="form-control" placeholder="Let us know what you think. Did the product work as advertised? Was it easy to use? Would you reccommend it to other vets."></textarea>
									<p class="review-name"> - review from office manager of equine practice in Central New Jersey</p>
									<button class="button button-rounded button-tiny button-action">Submit Review</button>
								</div>
							</div>
						</div>
					</div>
					<h3>Review Popular Items</h3>
				</div>
				<div class="account-tab-div" id="account-tab-myreviews">
					<h3>My Reviews</h3>
				</div>
				<div class="account-tab-div" id="account-tab-bonusprogram">
					<h3>Review Program</h3>
				</div>
			</div>
		</div>
	</div>
</div>




{% endblock %}

