{% extends 'account/pages/base.html' %}
{% block headertitle %}Credits{% endblock %}
{% block account_title %}Your Credits{% endblock %}
{% block account_css %}
<style>

.credit-container {
	text-align: center;
	position:relative;
	z-index: 1;

}
#credits {
	display:inline-block;
}
.creditrow-container {

}
.credit-row {
	padding: 10px;
	background: #fff;
	border:1px solid #ddd;
	height: 400px;
	position:relative;
	z-index: 0;
}
.credits-earned-table .amount-th {
	text-align: right;
}
.credits-earned-table .amount {
	color: green;
	font-weight: bold;
	font-size: 15px;
	text-align: right;
}
.credit-incentive {
	margin-top: 30px;
	border:4px solid #ddd;
	text-align: center;
	padding: 5px 8px 25px 8px;
}
.credit-incentive p {
	font-size: 13px;
}
.credit-incentive h4 {
	font-weight: bold;
}
</style>
{% endblock %}
{% block account_js %}
<script src="{{STATIC_URL}}js/plugins/jquery.percentageloader-0.1.js" type="text/javascript" ></script>
<script>
var topLoaderRunning = false;
var total_credits = 20;
var current_credits = 0;
var interval = total_credits/100.0
$(document).ready(function(){
	$loader = $("#credits").percentageLoader({
        width : 200, 
        height : 200, 
        progress : 0, 
        value : 'Balance',
        credits: total_credits
    });
    topLoaderRunning = true;
    var animateFunc = function() {
      current_credits += interval;
      $loader.setProgress(current_credits / total_credits);   
      if (current_credits < total_credits) {
        setTimeout(animateFunc, 10);
      } else {
        topLoaderRunning = false;
      }
    }   
    setTimeout(animateFunc, 10);
});

var balance_topLoaderRunning = false;
var balance_total_credits = 1340;
var balance_current_credits = 0;
var balance_interval = balance_total_credits/100.0
$(document).ready(function(){
	$balanceloader = $("#balance").percentageLoader({
        width : 200, 
        height : 200, 
        progress : 0, 
        value : 'Total',
        credits: balance_total_credits
    });
    balance_topLoaderRunning = true;
    var balanceanimateFunc = function() {
      balance_current_credits += balance_interval;
      $balanceloader.setProgress(balance_current_credits / balance_total_credits);   
      if (balance_current_credits < balance_total_credits) {
        setTimeout(balanceanimateFunc, 10);
      } else {
        balance_topLoaderRunning = false;
      }
    }   
    setTimeout(balanceanimateFunc, 10);
});
</script>
{% endblock %}
{% block account_content %}
<div class="row">
	<div class="col-md-3 col-md-push-9">
		<div class="credit-container sidebox">
			<h3>Current Balance</h3>
			<div id="credits"></div>
		</div>
		<div class="credit-container sidebox">
			<h3>Total Credits Earned</h3>
			<div id="balance"></div>
		</div>
	</div>
	<div class="col-md-9 col-md-pull-3 maincol">
		<div class="account-tabs">
			<div class="account-tabs-navigation row">
				<div class="col-md-4">
					<div class="active account-tab" data-href='#account-tab-morecredits'>
						Earn More Credits
					</div>
				</div>
				<div class="col-md-4">
					<div class="account-tab" data-href='#account-tab-creditsearned'>
						Credits Earned
					</div>
				</div>
				<div class="col-md-4">
					<div class="account-tab" data-href='#account-tab-bonusprogram'>
						How Credits Work
					</div>
				</div>
			</div>
			<div class="account-tab-content">
				<div class="account-tab-div" id="account-tab-creditsearned">
					<table class="table table-striped credits-earned-table">
						<thead>
							<th>Date</th>
							<th>Credit Type</th>
							<th>Description</th>
							<th class="amount-th">Amount</th>
						</thead>
						<tbody>
							<tr>
								<td>Sept 14, 2014</td>
								<td>Referral</td>
								<td>Dr. Kate Williams joined and made a purchase on VetCove</td>
								<td class="amount">$20</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="account-tab-div first" id="account-tab-morecredits">
					<div class="row">
						<div class="col-md-6">
							<div class="credit-incentive" style="background:#eaf2eb">
								<h4>Review Products</h4>
								<p>Credits are earned after a certain number of VetCove members find your reviews helpful!</p>
								<a class="button button-rounded button-action" href='#'>Review Products</a>
							</div>
						</div>
						<div class="col-md-6">
							<div class="credit-incentive" style="background:#e2e8f1">
								<h4>Refer Colleagues</h4>
								<p>Send colleagues a $20 discount, and you earn $20 in credits for everyone that makes a purchase</p>
								<a class="button button-rounded button-primary" href='#'>Refer Colleagues</a>
							</div>
						</div>
						<div class="col-md-6">
							<div class="credit-incentive" style="background:#e9e2f1">
								<h4>Buy Credit Back Items</h4>
								<p>Many items on VetCove earn instant credit-back on your purchase</p>
								<a class="button button-rounded button-royal" href='#'>Shop Credit back Items</a>
							</div>
						</div>
						<div class="col-md-6">
							<div class="credit-incentive" style="background:#f0dfb5">
								<h4>Send us some feedback!</h4>
								<p>Your input on VetCove is extremely valuable and we value your opinion of what works and what doesn't</p>
								<a class="button button-rounded button-highlight" href='#'>Give Feedback</a>
							</div>
						</div>
					</div>
				</div>
				<div class="account-tab-div" id="account-tab-bonusprogram">
					<h3>How Credits Work</h3>
					<p>Credits are rewards on VetCove that can be applied to any purchase. There is no limit on the purchase to use your credits. Upon checkout, they will automagically be used as a deduction on the final amount of the purchase.</p>
					<p>Credits can be earned in a variety of ways, including reviewing products, instant credit back incentives, and referring others to use VetCove.</p>
					<p>Although credits never expire, they cannot be exchanged for cash or other monetary compensation. Credits must be used through an online purchase. VetCove also reserves the right to invalidate any credits received.</p>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}
