{% extends 'account/pages/base.html' %}
{% block headertitle %}Credits{% endblock %}
{% block account_title %}Your Credits{% endblock %}

{% block title-links %}<span class="title-links"><a href='/account/credits/missions'>Monthly Credit Goals</a> | <a href='/account/credits/store'>Redeem Your Credits</a> | <a href='/account/credits/history'>Credits History</a></span>{% endblock %}
{% block account_css %}
<style>
.time-remaining {
	text-align: center;
}
.time-remaining h4{
	font-size: 14px;
	font-weight:bold;
	margin: 5px 0 0 0;
}
.time-remaining h5 {
	margin-top: 3px;
	font-size: 12px;
	color: #888;
	font-weight: 200;
	letter-spacing: .2px;
}
.credit-container {
	text-align: center;
	position:relative;
	z-index: 1;
}
#credits {
	display:inline-block;
	margin-bottom: 20px;
}
.credit-container a.button {
	margin-bottom: 10px;
}
.credit-row {
	padding: 10px;
	background: #fff;
	border:1px solid #ddd;
	height: 400px;
	position:relative;
	z-index: 0;
}
.credits-earned-table {
	width: 100%;
	border:1px solid #eaeaea;
}
.credits-earned-table tr.spend {
	background: #f2f2f2;
}
.credits-earned-table .amount-th {
	text-align: right;
}
.credits-earned-table .amount {
	color: green;
	font-weight: bold;
	font-size: 15px;
	text-align: right;
}
.credits-earned-table .red-amount {
	color: red;
}
.credit-incentive {
	margin-top: 30px;
	border:4px solid #ddd;
	text-align: center;
	padding: 5px 8px 25px 8px;
}
.credit-incentive p {
	font-size: 13px;
}
.credit-incentive h4 {
	font-weight: bold;
}

/* Credit Progress Bars */
.explanation {
	margin: 0px 0px 40px 0px;
}
.goal-container {
	margin: 0 10px 40px 0px;
	border-bottom:1px solid #eaeaea;
	padding-bottom: 40px;
	position:relative;
}
.goal-description {
	margin-bottom: 45px;
}
.goal-description h3 {
	font-size: 17px;
	margin-bottom: 0;
	border-bottom:none;
}
.goal-description p {
	color: #777;
	font-size: 12px;
	margin: 0;
}
.goal-description .prize {
	float: right;
	position:absolute;
	top: 0;
	right: 0;
	text-align: center;
	background: #edf8eb;
	border: 1px solid #61a256;
	border-radius: 3px;
	padding: 2px 5px;
}
.goal-description .prize h4 {
	margin: 0;
	font-size: 20px;
	color: #37762c;
}
.goal-description .prize p {
	color: #37762c;
	font-size: 11px;
	letter-spacing: .2px;
	font-weight: 200;
}
.goal-container .progress {
	margin-bottom: 0px;
	height: 15px;

}
.goal-container .progress .progress-bar {
	background: #5ecadf;}
.goal-container .progress .progress-bar-orange {
	background: #f78b26;
}
.goal-container .progress .progress-bar-purple {
	background: #b161c2;
}
.goal-container .progress .progress-bar-green {
	background: #0aab89;
}
.progress-meter {
	display:inline-block;
	width: 200px;
	margin-left:-100px;
	text-align: center;
}
.progress-text {
	display:inline-block;
	position:relative;
}
.progress-text .status {
	background: #333;
	color: white;
	border-radius: 3px;
	font-weight: 200;
	font-size: 11px;
	letter-spacing: .2px;
	padding:2px 5px;
	margin: 0;
	position:relative;
	z-index: 0;
}
.progress-text .down-arrow {
	position:relative;
	z-index: -5;
	color: #333;
	vertical-align: top;
	line-height: 12px;
	height: 12px;
	margin-top: -6px;
	margin-bottom: 0px;
}
.tickmarks {
	border:1px solid green;
	position
}
.tickmarks .arrow {
	color:red;
	margin: -6px 0 0 0;
}

/* Redeem Gift Cards */
#account-tab-redeem {
	padding-top: 20px;
}
.store-row {
	margin-top: 25px;
}
.store-row .col-md-3 {
	padding: 0;
}
.redeem-div {
	border:1px solid #eee;
	text-align: center;
}
.redeem-div:hover {
	box-shadow: 0 0 12px rgba(0,0,0,.1) inset;
	cursor:pointer;
}
.redeem-div img {
	width: 70%;
	margin: 20px 0;
}
.redeem-div .card-details {
	margin: 0 10px 10px 10px;
	padding-top: 5px;
	border-top:1px solid #eee;
}
.redeem-div .card-details h4 {
	font-size: 13px;
	font-weight: 200;
	margin: 0;
	white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.redeem-div .card-details h5 {
	margin: 10px 0;
}
.redeem-div .card-details h6 {
	font-size: 11px;
	margin: 0;
	color: #aaa;
}
</style>
{% block credits_css %}{% endblock %}
{% endblock %}
{% block account_js %}
<script src="{{STATIC_URL}}js/plugins/jquery.percentageloader-0.1.js" type="text/javascript" ></script>
<script>
var topLoaderRunning = false;
var total_credits = 220;
var current_credits = 0;
var interval = total_credits/100;
$(document).ready(function(){
	$loader = $("#credits").percentageLoader({
        width : 160, 
        height : 160, 
        progress : 0, 
        value : 'Credits',
        credits: total_credits
    });
    topLoaderRunning = true;
    var animateFunc = function() {
      current_credits += interval;
      $loader.setProgress(current_credits / total_credits);   
      if (current_credits < total_credits) {
        setTimeout(animateFunc, 10);
      } else {
        topLoaderRunning = false;
      }
    }   
    setTimeout(animateFunc, 10);
});

</script>
{% block credits_js %}{% endblock %}
{% endblock %}
{% block account_content %}
<div class="row">
	<div class="col-md-3 col-md-push-9">
		<div class="sidebox time-remaining">
			<h4>6 days remaining</h4>
			<h5>to complete the monthly goals</h5>
			<a href="/account/credits/missions" class="button button-rounded button-flat button-flat-primary">View All Goals</a>
		</div>
		<div class="credit-container sidebox">
			<h3>Current Credit Balance</h3>
			<div id="credits"></div>
			<a href='/account/credits/store' class="button button-rounded button-flat button-flat-primary"> Use Your Credits</a>
		</div>
	</div>
	<div class="col-md-9 col-md-pull-3">
		{% block credits_content %}{% endblock %}
	</div>
</div>
{% endblock %}
